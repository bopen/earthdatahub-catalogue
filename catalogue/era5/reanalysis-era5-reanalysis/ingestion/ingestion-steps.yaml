steps:
- chunks: {latitude: 128, longitude: 256}
  request_client_class_name: cads-api-client
  robust_to_zarr_kwargs: {time_dim: valid_time, time_restart_block: 96}
  to_zarr_kwargs:
    encoding:
      t2m: {dtype: float16}
    store: s3://ecmwf-era5/intermediate/reanalysis-era5-single-levels-reanalysis.zarr
    write_empty_chunks: false
  xarray_open_kwargs:
    cache_kwargs: {cache_file: false}
    cfgrib_kwargs:
      time_dims: [valid_time]
    chunks: {}
    engine: ecmwf
    filename_or_obj:
      collection_id: reanalysis-era5-single-levels
      date: [1940-01-01/2023-10-31]
      product_type: reanalysis
      time: ['00:00', '01:00', '02:00', '03:00', '04:00', '05:00', '06:00', '07:00', '08:00', '09:00', '10:00', '11:00', '12:00', '13:00', '14:00', '15:00', '16:00', '17:00', '18:00', '19:00', '20:00', '21:00', '22:00', '23:00']
      variable: [2m_temperature]
    request_chunker_kwargs: {time_dim: valid_time}
    request_chunks: {day: 10}
- chunks: {latitude: 32, longitude: 64, valid_time: 2880}
  robust_to_zarr_kwargs: {time_dim: valid_time, time_restart_block: 8}
  to_zarr_kwargs: {store: 's3://ecmwf-era5/reanalysis-era5-reanalysis.zarr', write_empty_chunks: false}
  xarray_open_kwargs:
    chunks: {valid_time: 2880}
    engine: zarr
    filename_or_obj: s3://ecmwf-era5/intermediate/reanalysis-era5-single-levels-reanalysis.zarr
